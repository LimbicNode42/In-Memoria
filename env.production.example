# Example environment configuration for production
# Copy this to .env and customize for your environment

# ===========================================
# ENVIRONMENT CONFIGURATION
# ===========================================
NODE_ENV=production

# ===========================================
# POSTGRESQL CONFIGURATION
# ===========================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=in_memoria
POSTGRES_USER=inmemoria_user
POSTGRES_PASSWORD=your-secure-password-here

# SSL Configuration (for self-hosted PostgreSQL with SSL)
POSTGRES_SSL=true
# SSL Mode: disable, allow, prefer, require, verify-ca, verify-full
POSTGRES_SSL_MODE=verify-full
# Path to SSL certificate inside container (mount your cert to this path)
POSTGRES_SSL_CERT=/app/postgres.crt
# Local path to your PostgreSQL SSL certificate file
POSTGRES_SSL_CERT_PATH=./certs/postgres.crt

POSTGRES_POOL_SIZE=10
POSTGRES_TIMEOUT=30000

# ===========================================
# QDRANT CONFIGURATION  
# ===========================================
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key  # Optional for self-hosted
QDRANT_COLLECTION=in-memoria
QDRANT_VECTOR_SIZE=1536
QDRANT_DISTANCE=cosine
QDRANT_TIMEOUT=30000
QDRANT_RETRY_ATTEMPTS=3

# ===========================================
# OPENAI CONFIGURATION (OPTIONAL)
# ===========================================
# Only needed if you want to use OpenAI embeddings instead of local embeddings
# Leave empty or comment out to use local All-MiniLM-L6-v2 embeddings
OPENAI_API_KEY=your-openai-api-key-here

# Embedding provider: openai, local, or custom (defaults to local if no OpenAI key)
EMBEDDING_PROVIDER=local

# ===========================================
# IN-MEMORIA CONFIGURATION
# ===========================================
IN_MEMORIA_STORAGE_MODE=remote
IN_MEMORIA_LOG_LEVEL=info
IN_MEMORIA_ENABLE_PERFORMANCE_LOGGING=false
IN_MEMORIA_BATCH_SIZE=50
IN_MEMORIA_MAX_CONCURRENT_FILES=10

# ===========================================
# MCP SERVER CONFIGURATION
# ===========================================
MCP_SERVER_PORT=3000

# ===========================================
# DOCKER COMPOSE CONFIGURATION
# ===========================================
# Path to your workspace/codebase
WORKSPACE_PATH=/path/to/your/workspace

# Path to specific project (optional)
PROJECT_PATH=/path/to/specific/project

# Log levels
LOG_LEVEL=info
QDRANT_LOG_LEVEL=INFO

# Enable performance logging
ENABLE_PERFORMANCE_LOGGING=false

# Ports (change if you have conflicts)
HTTP_PORT=80
HTTPS_PORT=443

# ===========================================
# CONTAINER ENVIRONMENT INDICATORS
# ===========================================
# These are automatically set in container environments
# DOCKER_ENV=true
# KUBERNETES_SERVICE_HOST=kubernetes.default.svc.cluster.local
